# System.md 自进化机制

## 触发条件
当满足以下任一条件时，触发system.md升级：

1. **agent记忆积累**：agent记忆中记录了3条以上可复用的经验
2. **用户偏好变化**：cold记忆中有2个新的用户偏好被记录
3. **功能需求变更**：用户明确要求修改系统行为
4. **定期评估**：每5次对话后自动评估升级需求

## 进化流程
1. 分析agent记忆中的最新经验
2. 整合cold记忆中的用户偏好
3. 生成system.md的更新版本
4. 保留原文件备份
5. 替换主system.md文件
6. 记录进化日志

## 安全机制
- 进化前备份当前system.md
- 进化后验证文件完整性
- 重大变更需用户确认
- 保留最近3个历史版本用于回滚